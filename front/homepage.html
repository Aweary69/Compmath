<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Computational Toolkit</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <h1>Interactive Computational Toolkit</h1>

    <label for="methodSelector">Choose a Calculation:</label>
    <select id="methodSelector" onchange="showCalculationSection()">
        <option value="">-- Select a Method --</option>
        <option value="graphicalRoot">Graphical Root Finding</option>
        <option value="comparisonRootMethods">Comparison of Root-Finding Methods</option>
        <option value="jacobiMethod">Jacobi Method</option>
        <option value="matrixInverse">Matrix Inversion</option>
        <option value="curveFitting">Linear Curve Fitting</option>
        <option value="firstDerivative">First Derivative (Newton's Forward Difference)</option>
        <option value="taylorSeriesMethod">Taylor Series Method</option>
        <option value="simpson38RuleMethod">Simpson's 3/8 Rule</option>
    </select>

    <div id="matrixSection" class="method-section hidden-section" data-method="matrixInverse">
        <h2>Matrix Inversion Operation</h2>
        <p>Specify Matrix Dimensions (up to 5x5 for simplicity):</p>
        <label for="matrixRows_inverse">Rows:</label>
        <input type="number" id="matrixRows_inverse" value="3" min="1" max="5">
        <label for="matrixCols_inverse">Columns:</label>
        <input type="number" id="matrixCols_inverse" value="3" min="1" max="5">
        <button onclick="generateMatrixInputFields('inverse')">Generate Matrix Input</button>
        <div id="matrixInputAreaContainer_inverse"></div>
        <button onclick="initiateInverseComputation()">Compute Inverse</button>
        <h3>Resulting Inverse Matrix:</h3>
        <div id="inverseResultArea"></div>
    </div>

    <div id="curveFitSection" class="method-section hidden-section" data-method="curveFitting">
        <h2>Linear Curve Fitting Analysis</h2>
        <p>Enter data points for curve fitting (format: x,y x,y x,y):</p>
        <textarea id="pointsInputArea" placeholder="e.g., 1,5 2,8 3,12"></textarea>
        <button onclick="commenceCurveFitting()">Compute Fit</button>
        <h3>Best-Fit Line Equation:</h3>
        <pre id="curveFitResultArea"></pre>    </div>

    <div id="derivativeSection" class="method-section hidden-section" data-method="firstDerivative">
        <h2>Newton's Forward Difference Derivative Calculation</h2>
        <p>Provide x values (comma-separated):</p>
        <textarea id="xValuesInput" placeholder="e.g., 1.0, 1.2, 1.4, 1.6"></textarea>
        <p>Provide corresponding y values (comma-separated):</p>
        <textarea id="yValuesInput" placeholder="e.g., 0, 0.128, 0.544, 1.296"></textarea>
        <p>Enter the target x value for derivative estimation:</p>
        <input type="number" id="targetXValue" placeholder="Target x">
        <button onclick="calculateDerivativeValue()">Compute Derivative</button>
        <h3>Estimated Derivative Value:</h3>
        <pre id="derivativeResultArea"></pre>
    </div>

    <div id="graphicalRootSection" class="method-section hidden-section" data-method="graphicalRoot">
        <h2>Graphical Root Finding</h2>
        <p>Enter function f(x): (e.g., cos(x)-x)</p>
        <input type="text" id="graphicalFunctionInput" value="Math.cos(x)-x" placeholder="Enter function f(x)">
        <canvas id="functionPlotCanvas" width="400" height="300"></canvas> <br>
        <p>
            Approximate Root (from graph):
            <input type="number" id="graphicalRootApprox" value="0.74" step="0.01">
        </p>

        <p>Interval [a, b] for Bisection Method:</p>
        <label for="bisectionA">a:</label> <input type="number" id="bisectionA" value="0">
        <label for="bisectionB">b:</label> <input type="number" id="bisectionB" value="1">
        <label for="bisectionTolerance">Tolerance:</label> <input type="number" id="bisectionTolerance" value="0.0001">
        <label for="bisectionMaxIter">Max Iterations:</label> <input type="number" id="bisectionMaxIter" value="100">
        <button onclick="computeNumericalRoot()">Compute Numerical Root</button> <br>
        <p>Numerical Root (Bisection): <span id="numericalRootResult"></span></p>

        <p>Absolute Error: <span id="graphicalRootError"></span></p>
    </div>

    <div id="comparisonRootFindingSection" class="method-section hidden-section" data-method="comparisonRootMethods">
        <h2>Comparison of Root-Finding Methods</h2>
        <p>Enter function f(x): (e.g., x*x - 4*Math.sin(x))</p>
        <input type="text" id="comparisonFunctionInput" value="x*x - 4*Math.sin(x)" placeholder="Enter function f(x)">
        <p>Interval for root finding: [0, 3]</p>

        <h3>False Position Method</h3>
        <p>Interval [a, b]:</p>
        <label for="falsePositionA">a:</label> <input type="number" id="falsePositionA" value="0">
        <label for="falsePositionB">b:</label> <input type="number" id="falsePositionB" value="3">
        <label for="falsePositionTolerance">Tolerance:</label> <input type="number" id="falsePositionTolerance" value="0.0001">
        <label for="falsePositionMaxIter">Max Iterations:</label> <input type="number" id="falsePositionMaxIter" value="100">
        <button onclick="computeFalsePositionRoot()">Compute Root (False Position)</button> <br>
        <p>Root (False Position): <span id="falsePositionRootResult"></span>, Iterations: <span id="falsePositionIterations"></span>, Relative Error: <span id="falsePositionRelativeError"></span></p>

        <h4>False Position Iterations:</h4>
        <div id="falsePositionIterationTable"></div>

        <h3>Newton-Raphson Method</h3>
        <p>Initial Guess (x₀):</p>
        <label for="newtonRaphsonInitialGuess">x₀:</label> <input type="number" id="newtonRaphsonInitialGuess" value="0.5">
        <label for="newtonRaphsonTolerance">Tolerance:</label> <input type="number" id="newtonRaphsonTolerance" value="0.0001">
        <label for="newtonRaphsonMaxIter">Max Iterations:</label> <input type="number" id="newtonRaphsonMaxIter" value="100">
        <button onclick="computeNewtonRaphsonRoot()">Compute Root (Newton-Raphson)</button> <br>
        <p>Root (Newton-Raphson): <span id="newtonRaphsonRootResult"></span>, Iterations: <span id="newtonRaphsonIterations"></span>, Relative Error: <span id="newtonRaphsonRelativeError"></span></p>

        <h4>Newton-Raphson Iterations:</h4>
        <div id="newtonRaphsonIterationTable"></div>
    </div>

    <div id="jacobiSection" class="method-section hidden-section" data-method="jacobiMethod">
        <h2>Jacobi Method for System of Equations</h2>
        <p>Solve a system of linear equations Ax = b:</p>

        <p>Specify Matrix Dimensions (up to 5x5 for simplicity):</p>
        <label for="matrixRows_jacobi">Rows:</label>
        <input type="number" id="matrixRows_jacobi" value="3" min="1" max="5">
        <label for="matrixCols_jacobi">Columns:</label>
        <input type="number" id="matrixCols_jacobi" value="3" min="1" max="5" readonly> <p>(Columns must equal rows for Jacobi Method)</p>
        <button onclick="generateMatrixInputFields('jacobi')">Generate Matrix Input for Jacobi</button>
        <div id="matrixInputAreaContainer_jacobi"></div>
        <div id="vectorBInputAreaContainer_jacobi"></div>

        <p>Initial Guess x₀:</p>
        <div id="initialGuessInputArea_jacobi"></div>


        <label for="jacobiTolerance">Tolerance:</label> <input type="number" id="jacobiTolerance" value="0.0001">
        <label for="jacobiMaxIter">Max Iterations:</label> <input type="number" id="jacobiMaxIter" value="100">
        <button onclick="computeJacobiSolution()">Solve System (Jacobi)</button> <br>
        <h3>Solution (x, y, z, ...):</h3>
        <p><span id="jacobiSolutionArea"></span>, Iterations: <span id="jacobiIterations"></span></p>
    </div>

    <div id="taylorSeriesSection" class="method-section hidden-section" data-method="taylorSeriesMethod">
        <h2>Taylor Series Method for ODE</h2>
        <p>Solve dy/dx = y² + x², y(0) = 1</p>
        <button onclick="computeTaylorSeriesValues()">Compute y(0.1) and y(0.2)</button> <br>
        <h3>Approximated Values:</h3>
        <p>y(0.1) ≈ <span id="taylor_y_0_1"></span></p>
        <p>y(0.2) ≈ <span id="taylor_y_0_2"></span></p>
    </div>

    <div id="simpson38Section" class="method-section hidden-section" data-method="simpson38RuleMethod">
        <h2>Simpson's 3/8 Rule for Integration</h2>
        <p>Compute ∫₂⁵ 2x³ dx with 6 subintervals</p>
        <button onclick="computeSimpsons38Rule()">Compute Integral</button> <br>
        <h3>Results:</h3>
        <p>Approximate Value (Simpson's 3/8): <span id="simpson_approx_value"></span></p>
        <p>Exact Value: <span id="simpson_exact_value"></span></p>
        <p>Absolute Error: <span id="simpson_absolute_error"></span></p>
    </div>

    <script>
        // This script block is now empty, functions moved to external js files
        // Initialization or very basic inline script can go here if needed later.

        // Initially hide all method sections when page loads
        showCalculationSection(); // Keep this here for initial setup
    </script>

    <script src="js/homepage_ui.js"></script>
    <script src="js/homepage_calculations.js"></script>

</body>
</html>